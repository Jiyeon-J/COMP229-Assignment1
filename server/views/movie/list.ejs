<%- include ../partials/header.ejs  %>

<%- include ../partials/main_nav.ejs  %>
    
<main class="container">
  <div class="row">
      <div class="offset-md-1 col-md-11">
          <h1><%= title %></h1>

          <% if(typeof displayName == 'string' && displayName) { %>
            <a href="/movie-list/add" class="btn btn-primary" role="button">
            <i class="fas fa-plus-circle"></i> Add a Movie </a>
          <% } %>
      <br>
            <table class="table table-striped table-bordered table-hover">
             <thead class="thead-dark">
                <tr class="d-flex">
                  <% if(typeof displayName == 'string' && displayName) { %>
                    <th class="text-center col-2">Title</th>
                    <th class="text-center col-4">Description</th>
                    <th class="text-center col-2">Genre</th>
                    <th class="text-center col-1">Year</th>
                    <th class="text-center col-1">Rating</th>
                    <th class="text-center col-1"></th>
                    <th class="text-center col-1"></th>
                  <% } else { %>
                    <th class="text-center col-2">Title</th>
                    <th class="text-center col-4">Description</th>
                    <th class="text-center col-2">Genre</th>
                    <th class="text-center col-1">Year</th>
                    <th class="text-center col-1">Rating</th>
                   <% } %>
                </tr>
            </thead>
      
            <% for(let index = 0; index < movieList.length; index++) { %>
                <tr class="d-flex">
                 <% if(typeof displayName == 'string' && displayName) { %>
                  <td class="text-center col-2"><%= movieList[index].title %></th>
                  <td class="text-center col-4"><%= movieList[index].description %></td>    
                  <td class="text-center col-2"><%= movieList[index].genre %></td>
                  <td class="text-center col-1"><%= movieList[index].year %></td>
                  <td class="text-center col-1"><%= movieList[index].rating %></td>
                  <td class="text-center col-1">
                    <a href="/movie-list/edit/<%= movieList[index]._id %>" class="btn btn-primary btn-sm">
                    <i class="fas fa-pencil-alt"></i> Edit</a>
                  </td>
                  <td class="text-center col-1">
                    <a href="/movie-list/delete/<%= movieList[index]._id %>" class="btn btn-danger btn-sm">
                    <i class="fas fa-trash-alt"></i> Delete</a>
                  </td>
                  <% } else { %>
                    <td class="text-center col-2"><%= movieList[index].title %></th>
                    <td class="text-center col-4"><%= movieList[index].description %></td>    
                    <td class="text-center col-2"><%= movieList[index].genre %></td>
                    <td class="text-center col-1"><%= movieList[index].year %></td>
                    <td class="text-center col-1"><%= movieList[index].rating %></td>
                 <% } %>
                </tr>
            <% } %>
          </table>
        </div>
    </div>
  </main>
     

<%- include ../partials/bottom_nav.ejs %>  

<%- include ../partials/footer.ejs %>


